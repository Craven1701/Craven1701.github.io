I"™+<h2 id="1-shell">1. Shell</h2>

<p><img src="/Users/ncc-1701-enterprise/Desktop/Screen Shot 2021-02-03 at 20.41.55.png" alt="" /></p>

<p>ç®€è€Œè¨€ä¹‹ï¼Œshellæ˜¯ç”¨æˆ·ä¸Kerneläº¤äº’çš„ç•Œé¢ã€‚shellæ˜¯ç”¨æˆ·ä½¿ç”¨æ“ä½œç³»ç»Ÿæ¥æ“ä½œç¡¬ä»¶çš„ä¸€ä¸ªæ¥å£ã€‚shellå¯ä»¥è°ƒç”¨å…¶ä»–çš„è½¯ä»¶ï¼Œæ¯”å¦‚å„ç§å„æ ·çš„å‘½ä»¤ï¼Œæ¥è°ƒç”¨å†…æ ¸è¿è¡Œæ‰€éœ€çš„å·¥ä½œã€‚</p>

<p>ç‹­ä¹‰ä¸Šæ˜¯ä»…ä»…åªå‘½ä»¤è¡Œï¼Œå¹¿ä¹‰ä¸Šçš„shellä¹ŸåŒ…æ‹¬å›¾å½¢æ“ä½œç•Œé¢ã€‚</p>

<p>æˆ‘åœ¨macå’Œlinuxä¸Šç”¨çš„shelléƒ½æ˜¯bash.ï¼ˆBourne Again SHellï¼‰</p>

<p>ç›®å½•<code class="language-plaintext highlighter-rouge">/etc/shells</code>å¯ä»¥ç”¨æ¥æŸ¥çœ‹å½“å‰ç³»ç»Ÿä¸­æœ‰å¤šå°‘å¯ä»¥ä½¿ç”¨çš„shell</p>

<p><img src="/Users/ncc-1701-enterprise/Desktop/Screen Shot 2021-02-03 at 20.50.51.png" alt="" /></p>

<p><code class="language-plaintext highlighter-rouge">/home/username/.bash_history</code> ç›®å½•ä¸­å­˜æ”¾æœ‰ä¸Šä¸€æ¬¡ç™»å½•æ‰€ä½¿ç”¨çš„å‘½ä»¤</p>

<h2 id="2-ç¯å¢ƒå˜é‡">2. ç¯å¢ƒå˜é‡</h2>

<ul>
  <li>ä¹ æƒ¯æ€§çš„ï¼Œç¯å¢ƒå˜é‡è¦æ±‚å…¨éƒ¨å¤§å†™</li>
  <li><code class="language-plaintext highlighter-rouge">env</code>å‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰æ‰€æœ‰çš„ã€ç¯å¢ƒå˜é‡ã€‘</li>
  <li><code class="language-plaintext highlighter-rouge">set</code>å‘½ä»¤ç”¨äºæŸ¥çœ‹å½“å‰æ‰€æœ‰ã€å˜é‡ã€‘</li>
  <li>ç¯å¢ƒå˜é‡ä¸è‡ªå®šä¹‰å˜é‡çš„åŒºåˆ«åœ¨äºï¼Œåè€…ä¸å¯ä»¥è¢«å­è¿›ç¨‹æ‰€ç»§ç»­å¼•ç”¨ï¼Œè€Œç¯å¢ƒå˜é‡å¯ä»¥ã€‚</li>
  <li><code class="language-plaintext highlighter-rouge">export</code>å‘½ä»¤å¯ä»¥å°†è‡ªå®šä¹‰å˜é‡è½¬åŒ–ä¸ºç¯å¢ƒå˜é‡</li>
</ul>

<p><strong><code class="language-plaintext highlighter-rouge">PS1</code></strong> æç¤ºç¬¦è®¾ç½®ï¼Œè¿™ç©æ„å¯ä»¥æ”¹å˜å‘½ä»¤æç¤ºç¬¦çš„æ ·å¼</p>

<p><img src="/Users/ncc-1701-enterprise/Desktop/Screen Shot 2021-02-03 at 22.11.13.png" alt="" /></p>

<h2 id="3-bash-shellçš„æ“ä½œç¯å¢ƒ">3. Bash Shellçš„æ“ä½œç¯å¢ƒ</h2>

<h3 id="è·¯å¾„ä¸å‘½ä»¤æŸ¥æ‰¾é¡ºåº">è·¯å¾„ä¸å‘½ä»¤æŸ¥æ‰¾é¡ºåº</h3>

<ol>
  <li>ä»¥ç›¸å¯¹/ç»å¯¹è·¯å¾„æ‰§è¡Œå‘½ä»¤ï¼Œå¦‚â€/bin/lsâ€æˆ–è€…â€./lsâ€</li>
  <li>ç”±aliasæ‰¾åˆ°è¯¥å‘½ä»¤æ¥æ‰§è¡Œ</li>
  <li>ç”±bashå†…ç½®çš„(builtin)å‘½ä»¤æ¥æ‰§è¡Œ</li>
  <li>é€šè¿‡$PATHè¿™ä¸ªå˜é‡çš„é¡ºåºæ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå‘½ä»¤æ¥æ‰§è¡Œ
<img src="/Users/ncc-1701-enterprise/Desktop/Screen Shot 2021-02-04 at 12.51.43.png" alt="" /></li>
</ol>

<h3 id="bashçš„æ¬¢è¿ä¿¡æ¯æ–‡ä»¶">Bashçš„æ¬¢è¿ä¿¡æ¯æ–‡ä»¶</h3>

<p><code class="language-plaintext highlighter-rouge">/etc/issue</code> æ–‡ä»¶å†…å†™äº†ç™»å½•ç»ˆç«¯æœºæ¥å£ttyæ—¶çš„æ¬¢è¿ä¿¡æ¯ï¼Œä½ å¯ä»¥åœ¨é‡Œé¢ç”»å›¾ä¹‹ç±»çš„ã€‚</p>

<p><code class="language-plaintext highlighter-rouge">/etc/issue.net</code> æ–‡ä»¶å†…å†™äº†è¿œç¨‹ç™»å½•ç»ˆç«¯æœºæ—¶çš„æ¬¢è¿ä¿¡æ¯</p>

<p><code class="language-plaintext highlighter-rouge">/etc/motd</code> æ˜¯è®©æ‰€æœ‰äººéƒ½çŸ¥é“çš„ä¿¡æ¯</p>

<h4 id="å¦‚ä½•ç™»å½•tty"><strong>ã€å¦‚ä½•ç™»å½•ttyã€‘</strong></h4>

<ul>
  <li>æŒ‰ä¸‹Ctrl + Alt + <strong>Fn1</strong>è¿›å…¥<em>å›¾å½¢åŒ–ç”¨æˆ·ç™»å½•ç•Œé¢</em></li>
  <li>æŒ‰ä¸‹Ctrl + Alt + <strong>Fn2</strong>è¿›å…¥<em>å½“å‰å›¾å½¢åŒ–ç•Œé¢</em></li>
  <li>æŒ‰ä¸‹Ctrl + Alt + <strong>Fn3-Fn6</strong>è¿›å…¥<em>å‘½ä»¤è¡Œè™šæ‹Ÿç»ˆç«¯</em></li>
  <li>æŒ‰ä¸‹Ctrl + Alt + <strong>Fn7-Fn12</strong>è¿›å…¥<em>å¦å¤–çš„è™šæ‹Ÿç»ˆç«¯ï¼Œè¿™äº›è™šæ‹Ÿç»ˆç«¯æ²¡æœ‰ä»»ä½•ç¨‹åºæ‰§è¡Œï¼Œæ‰€ä»¥åªèƒ½çœ‹åˆ°ä¸€ä¸ªé—ªçƒçš„å…‰æ ‡</em></li>
</ul>

<table>
  <thead>
    <tr>
      <th>Â </th>
      <th>issueå†…çš„å„ä»£ç æ„ä¹‰</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>\d</td>
      <td>æœ¬åœ°ç«¯æ—¶é—´çš„æ—¥æœŸ</td>
    </tr>
    <tr>
      <td>\l</td>
      <td>æ˜¾ç¤ºç¬¬å‡ ä¸ªç»ˆç«¯æœºæ¥å£</td>
    </tr>
    <tr>
      <td>\m</td>
      <td>æ˜¾ç¤ºç¡¬ä»¶çš„ç­‰çº§</td>
    </tr>
    <tr>
      <td>\n</td>
      <td>æ˜¾ç¤ºä¸»æœºç½‘ç»œåç§°</td>
    </tr>
    <tr>
      <td>\o</td>
      <td>æ˜¾ç¤ºdomain name</td>
    </tr>
    <tr>
      <td>\r</td>
      <td>æ˜¾ç¤ºæ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼ˆç›¸å½“äºuname -rï¼‰</td>
    </tr>
    <tr>
      <td>\t</td>
      <td>æ˜¾ç¤ºæœ¬åœ°ç«¯æ—¶é—´çš„æ—¶é—´</td>
    </tr>
    <tr>
      <td>\s</td>
      <td>æ“ä½œç³»ç»Ÿçš„åç§°</td>
    </tr>
    <tr>
      <td>\v</td>
      <td>æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬</td>
    </tr>
  </tbody>
</table>

<h3 id="bashçš„ç¯å¢ƒé…ç½®æ–‡ä»¶">Bashçš„ç¯å¢ƒé…ç½®æ–‡ä»¶</h3>

<h4 id="1-login-shell-ä¸-non-login-shell">1. login shell ä¸ non-login shell</h4>

<p><strong>login shell</strong> å–å¾—bashæ—¶éœ€è¦å®Œæ•´çš„ç™»å½•æµç¨‹ï¼Œç§°ä¸ºlogin shell, å¦‚tty2~tty6</p>

<p><strong>non-login shell</strong> å–å¾—bashæ¥å£æ—¶ä¸éœ€è¦å®Œæ•´çš„ç™»å½•æµç¨‹ï¼Œå¦‚tty1æ˜¯ä»å›¾å½¢ç•Œé¢è¿›å…¥terminalï¼Œä¸éœ€è¦å†æ¬¡ç™»å½•ï¼Œå±äºnon-login shell</p>

<h4 id="2-login-shellçš„é…ç½®æ–‡ä»¶è¯»å–">2. Login shellçš„é…ç½®æ–‡ä»¶è¯»å–</h4>

<p>| æ–‡ä»¶                                             |                                                              |
| â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” | â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” |
| /etc/prof                                        | å†…å†™æœ‰ç³»ç»Ÿçš„æ•´ä½“è®¾ç½®ï¼Œæœ€å¥½ä¸è¦ä¿®æ”¹ã€‚                         |
| ~/.bash_profile æˆ–è€…~/.bash_loginæˆ–è€… ~/.profile | ç”¨æˆ·ä¸ªäººè®¾ç½® æƒ³æ”¹åŠ¨çš„è¯æ”¹åŠ¨è¿™é‡Œå§ã€‚å·¦è¾¹ä¸‰ä¸ªæ–‡ä»¶åªä¼šè¯»å–å…¶ä¸­ä¸€ä¸ªï¼ŒæŒ‰ç…§ä¼˜å…ˆçº§é¡ºåºä¸º.bash_profileâ†’.bash_loginâ†’.profile |
<strong>/etc/profile</strong>æ–‡ä»¶å†…å®¹</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># /etc/profile: system-wide .profile file for the Bourne shell (sh(1))</span>
<span class="c"># and Bourne compatible shells (bash(1), ksh(1), ash(1), ...).</span>

<span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="k">${</span><span class="nv">PS1</span><span class="p">-</span><span class="k">}</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span> <span class="c">#åˆ¤æ–­å‘½ä»¤æç¤ºç¬¦çš„è®¾å®š</span>
  <span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="k">${</span><span class="nv">BASH</span><span class="p">-</span><span class="k">}</span><span class="s2">"</span> <span class="o">]</span> <span class="o">&amp;&amp;</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$BASH</span><span class="s2">"</span> <span class="o">!=</span> <span class="s2">"/bin/sh"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="c"># The file bash.bashrc already sets the default PS1.</span>
    <span class="c"># PS1='\h:\w\$ '</span>
    <span class="k">if</span> <span class="o">[</span> <span class="nt">-f</span> /etc/bash.bashrc <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
      <span class="nb">.</span> /etc/bash.bashrc
    <span class="k">fi
  else
    if</span> <span class="o">[</span> <span class="s2">"</span><span class="sb">`</span><span class="nb">id</span> <span class="nt">-u</span><span class="sb">`</span><span class="s2">"</span> <span class="nt">-eq</span> 0 <span class="o">]</span><span class="p">;</span> <span class="k">then</span> <span class="c"># `id -u`æ‹¿åˆ°å½“å‰ç”¨æˆ·çš„uid,åˆ¤æ–­æ˜¯å¦ä¸ºroot uid=0(root) è®¾å®šå‘½ä»¤æç¤ºç¬¦</span>
      <span class="nv">PS1</span><span class="o">=</span><span class="s1">'# '</span>
    <span class="k">else
      </span><span class="nv">PS1</span><span class="o">=</span><span class="s1">'$ '</span>
    <span class="k">fi
  fi
fi

if</span> <span class="o">[</span> <span class="nt">-d</span> /etc/profile.d <span class="o">]</span><span class="p">;</span> <span class="k">then
  for </span>i <span class="k">in</span> /etc/profile.d/<span class="k">*</span>.sh<span class="p">;</span> <span class="k">do</span> <span class="c">#å¯¹ç”¨æˆ·æœ‰ræƒé™çš„.shæ–‡ä»¶è¿›è¡Œè°ƒç”¨</span>
    <span class="k">if</span> <span class="o">[</span> <span class="nt">-r</span> <span class="nv">$i</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
      <span class="nb">.</span> <span class="nv">$i</span>
    <span class="k">fi
  done
  </span><span class="nb">unset </span>i
<span class="k">fi</span>
<span class="c"># /etc/profile.d/*.shä¸­è®¾ç½®äº†é¢œè‰²ï¼Œè¯­ç³»ï¼Œåˆ«åç­‰ç­‰</span>
</code></pre></div></div>
<p><strong>~/.profile</strong>æ–‡ä»¶å†…å®¹</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ~/.profile: executed by the command interpreter for login shells.</span>
<span class="c"># This file is not read by bash(1), if ~/.bash_profile or ~/.bash_login</span>
<span class="c"># exists.</span>
<span class="c"># see /usr/share/doc/bash/examples/startup-files for examples.</span>
<span class="c"># the files are located in the bash-doc package.</span>

<span class="c"># the default umask is set in /etc/profile; for setting the umask</span>
<span class="c"># for ssh logins, install and configure the libpam-umask package.</span>
<span class="c">#umask 022</span>

<span class="c"># if running bash</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-n</span> <span class="s2">"</span><span class="nv">$BASH_VERSION</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="c"># include .bashrc if it exists</span>
    <span class="k">if</span> <span class="o">[</span> <span class="nt">-f</span> <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/.bashrc"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
	<span class="nb">.</span> <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/.bashrc"</span> <span class="c"># è¿™ä¸ªæ–‡ä»¶é‡Œå†™äº†éå¸¸å¤šè‡ªå·±bashçš„é…ç½® .æ˜¯sourceå‘½ä»¤çš„ç®€å†™</span>
    <span class="k">fi
fi</span>

<span class="c"># set PATH so it includes user's private bin if it exists</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-d</span> <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/bin"</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then
    </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/bin:</span><span class="nv">$PATH</span><span class="s2">"</span> <span class="c"># ä¿®æ”¹ç¯å¢ƒå˜é‡PATH</span>
<span class="k">fi</span>

<span class="c"># set PATH so it includes user's private bin if it exists</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-d</span> <span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/.local/bin"</span> <span class="o">]</span> <span class="p">;</span> <span class="k">then
    </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">"</span><span class="nv">$HOME</span><span class="s2">/.local/bin:</span><span class="nv">$PATH</span><span class="s2">"</span> <span class="c">#ä¿®æ”¹ç¯å¢ƒå˜é‡PATH</span>
<span class="k">fi</span>
</code></pre></div></div>

<p><strong>login shellçš„å¯åŠ¨æµç¨‹å›¾</strong></p>

<p><img src="" alt="" /></p>

:ET